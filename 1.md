# 主题学习之CSS规范

平时工作进行页面重构的时候，包括维护前期自己或他人写的一些代码，认识到如果只是目的要改成特定的样式并不困难，前提是要了解样式的叠加权重；而困难的是如何不增加冗余代码，继续保持或修改成可维护的代码。在修改其它样式代码时，经常会用到ID选择器或者在HTML文件内新添加类名再针对新增类名进行编写，这是因为考虑到别的地方有用到相同的类，不能直接在共同的类上直接改动，会导致别的地方意料之外的变化。然而如果了解CSS规范后应该知道使用ID作为选择器进行CSS描述，并不是好的选择。

编写可维护的CSS，首先需要了解不同的命名规范、设计模式。然后，选取适合自己的规范，严格按照规范进行编写。当拿到前人的代码时，如果知道其遵循的规范，保持原有的规范，再进行修改，平时自己写代码时同时应进行好的注释，有助于代码的维护。

## 需要了解的一些概念：

- **OOCSS**：一种编写CSS的设计模式或者说是规范。要点：1.样式和结构的分离，增加class的重复使用。避免使用ID作为选择器，比如不同样式按钮可以抽取相同部分复用button的基础类。 2.容器和内容的分离，减少对HTML标签结构的依赖。比如使用`ul li>a {}`这种写法依赖标签的结构，如果后期结构改变会增加重构的成本。适合可重用性组件特别的多的项目构建。

- **JS钩子**：通过CSS class类名来作为JS选取DOM节点的方式。CSS编写用到的类也可能会在JS文件中用于选择对应的元素，如果我们要修改或删除类名时，不能确定原作者是否有按照规范进行标志，就需要在维护代码时先去JS文件中搜寻是否使用到该选择器，进行对应的JS修改或者只新增不重复的CSS类名。然而，如果是规范的代码，应该会标志清楚哪些类属于JS钩子（对于JS类选择确实必须时需要划定命名空间，比如使用" js-"开头的类名），且类名应该只用作JS选择器使用，不进行该类名对应的CSS描述，便于后期维护，即使自己编写自己维护也该进行良好的注释严格遵守规范。

- **BEM**：代表块（Block），元素（Element），修饰符（Modifier）三个实体。该规范帮助我们建议可扩展和复用的界面组件，当我们进行HTML基本结构搭建时应该进行了解参考其命名的思想和方法。（更多的内容可以从[官网](https://en.bem.info/)了解。）

  - 块是一个独立的实体，就像应用的一块"积木"，页面的一个组件，它可以是简单的也可以是复合的（包含其他块）。
  - 元素是块的一部分，组件的组成结构项，它依赖上下文的。
  - 修饰符是区分一个和现有的块只稍微有点不同的另一个块。

    > 1个例子：

    > `.block-name {}`<br>
    > `.block-name--modifier {}`<br>
    > `.block-name__element {}`

    > 以上为1个BEM的命名结构，名称本身如果为多词用1个连字符(`-`)连接，使用下划线（`__`）被用来区分（子孙）元素，而用连字符(`--`)是用来修饰元素的。

- **SUIT**：类似于BEM，但是它对组件名使用驼峰式和连字号把组件从他们的修饰和子孙后代中区分出来。

  - 实体部分与BEM相同，通过消除潜在的混乱连字符号(`-`)连接元素增强选择器的可读性。

    > 1个例子：

    > `.blockName {}`<br>
    > `.blockName--modifier {}`<br>
    > `.blockName-element {}`

    > 以上为1个SUIT的命名结构，名称本身如果为多词用驼峰式命名法，使用连字符（`-`）被用来区分（子孙）元素，而用连字符(`--`)是用来修饰元素的。

- SMACSS：有[一本专门的书](https://smacss.com/)介绍该设计思想，更偏向于样式规范而不是一种架构。最核心的部分就是分类,定义了五种样式类型：

  - 基本(base)：相当于reset，初始化默认样式,简单的选择器的基本样式
  - 布局（Layout）：定义网格,布局类样式
  - 模块(Module)：一组元素结合在一起形成的一个模块（组件化）
  - 状态（State）：元素的不同状态，如不可/可点击的按钮状态
  - 主题(Theme)：更多的样式

- ITCSS：通过建立一系列的层次来管理依赖关系和促进可扩展性。

...等许多前人的好的思想规范可以学习。

## 应当遵守的规范准则：

1个规范例子：[编码规范](http://codeguide.bootcss.com/)。在这里面有一个黄金定律：永远遵循同一套编码规范。

> 不管有多少人共同参与同一项目，一定要确保每一行代码都像是同一个人编写的。

以上，另外着重列出了一些认为在工作中有必要遵守适合的规范。

- JS中如果用到类选择器必须在HTML结构中定义`js-`开头的类名，作为钩子，且CSS不定义该类的样式。
- 遵守SUIT命名方法，清楚定义元素间的结构联系。
- 尽可能少的降低HTML标签的数量，总使用双引号`“”`。
- CSS中坚持不使用ID选择器进行样式的描述。
- （+++）

书好规范的代码对于整体的代码的构建和后期的维护都大有益，过分的自由命名只会造成代码的混乱及不可读，同时加重选择困难症^^。 ANYWAY,建立自己的代码规范，并进行有效的注释，代码也需要优雅。

参考链接：<http://www.w3cplus.com/>
